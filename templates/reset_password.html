{% extends 'base.html' %}

{% block title %}إعادة تعيين كلمة المرور{% endblock %}

{% block content %}
  <main class="container mx-auto px-4 pb-12" dir="rtl">
    <div class="max-w-md mx-auto mt-20 bg-[#2d2b44] p-8 rounded-lg shadow-xl">
      <h1 class="text-2xl font-bold mb-6 text-purple-400">إعادة تعيين كلمة المرور</h1>
      
      <!-- Flash Messages -->
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="mb-4 p-3 rounded
                        {% if category == 'success' %} bg-green-900/30 text-green-400
                        {% elif category == 'danger' %} bg-red-900/30 text-red-400
                        {% else %} bg-blue-900/30 text-blue-400 {% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      
      <form method="POST">
        {{ form.hidden_tag() }}
        <div class="mb-4">
          {{ form.password.label(class="block text-purple-400 mb-2") }}
          {{ form.password(class="w-full px-3 py-2 bg-[#1a1a2e] text-white rounded border border-[#3a3757] focus:ring-2 focus:ring-purple-600") }}
          {% if form.password.errors %}
            {% for error in form.password.errors %}
              <span class="text-red-400 text-sm">{{ error }}</span>
            {% endfor %}
          {% endif %}
        </div>
        <button type="submit" 
                class="w-full bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition">
          تعيين كلمة المرور
        </button>
      </form>
    </div>
  </main>
{% endblock %}